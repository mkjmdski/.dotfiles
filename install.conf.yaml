- defaults:
    link:
      create: true
      relink: true
      force: true
    shell:
      stdout: true

- shell:
    - command: sudo packets/linux.sh
      description: install standard linux packets
      stdin: true
    - command: sudo chsh -s /bin/zsh
      description: change shell to zsh for root
      stdin: true
    - command: chsh -s /bin/zsh
      description: change shell to zsh for user
      stdin: true
    - command: bash packets/fonts.sh
      description: install nerd and power fonts
    - command: bash packets/clone.sh
      description: install programs from git
    - command: git config --global include.path "$PWD/git/global.gitconfig"
      description: set global gitconfig
    - command: git config --global core.excludesfile "$PWD/git/global.gitignore"
      description: set global gitignore
    - command: gopass completion zsh > "$PWD/zsh/fpath/_gopass"
      description: install gopass completion
    - command: for extension in $(cat vscode/installed_vs_extensions); do code --install-extension $extension; done
      description: setup VS Code

- link:
    ~/.config/nvim/colors/molokai.vim:
      path: vim/molokai.vim
    ~/.config/nvim/init.vim:
      path: vim/.vimrc
    ~/.zshrc:
      path: zsh/.zshrc
    ~/.config/Code/User/settings.json:
      path: vscode/settings.json
      if: uname -a | grep -iq linux
    ~/.config/Code/User/snippets:
      path: vscode/snippets
      if: uname -a | grep -iq linux

- shell:
    - command: zsh -i -c "zplug check || (zplug install && zplug load)"
      description: install zplugs
    - command: nvim +PlugInstall +qall
      description: install vim plugins
      stdout: true
