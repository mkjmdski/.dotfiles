- defaults:
    link:
      create: true
      relink: true
      force: true
    shell:
      stdout: true
- create:
  - "$HOME/bin"
  - "$HOME/.terraform-plugins"
- link:
  ~/.icons:
    path: gnome/icons
    if: &gnome-check if [ "$(cat config.yaml | grep gnome | awk '{print $2}')" = "true" ]; then gnome-shell --version; fi
  ~/.themes:
    path: gnome/themes
    if: *gnome-check
  ~/.local/share/gnome-shell/extensions:
    path: gnome/extensions
    if: *gnome-check
- shell:
  - command: ./install-packets.sh
    stdin: true
- link:
    ~/.peco/config.json:
      path: peco.json
    ~/.config/nvim/colors/molokai.vim:
      path: molokai.vim
    ~/.config/nvim/init.vim:
      path: .vimrc
    ~/.zshrc:
      path: .zshrc
    ~/.config/Code/User/settings.json:
      path: settings.json
      if: &ubuntu uname -a | grep -iq ubuntu
    ~/.config/Code/User/keybindings.json:
      path: keybindings.json
      if: *ubuntu
    ~/Library/Application\ Support/Code/User/settings.json:
      path: vscode/settings.json
      if: &mac uname -a | grep -iq darwin
    ~/Library/Application\ Support/Code/User/keybindings.json:
      path: vscode/keybindings.json
      if: *mac
    ~/.config/terminator/config:
      path: terminator.config
      if: terminator --version
    ~/Library/Preferences/com.googlecode.iterm2.plist:
      path: com.googlecode.iterm2.plist
      if: *mac
    ~/.ssh/config:
      path: ssh.config
      if: if [ "$(whoami)" = "mlodzikos" ] || [ "$(whoami)" = "mikolajmlodzikowski" ]; then which ssh; fi
